---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";
import AntlerChangelog140 from "../content/changelog/antler/antler-1.4.0.astro";

// Fetch changelog entries
const changelogs = await getCollection("antler");
changelogs.sort((a, b) => new Date(b.data.date) - new Date(a.data.date));

// ✅ Pre-render MDX bodies before returning to template
const rendered = await Promise.all(
  changelogs.map(async (entry) => {
    const { Content } = await entry.render();
    return { ...entry, Content };
  })
);
---

<BaseLayout title="Moose Antler | Your Ideas, Amplified">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* A very light cool grey */
        }
        /* New purple theme for Moose Antler */
        .bg-app-dark {
            background-color: #111827; /* A darker grey for contrast */
        }
        .text-moose-purple { color: #8b5cf6; }
        .bg-moose-purple { background-color: #8b5cf6; }
        .hover\:bg-moose-purple-dark:hover { background-color: #7c3aed; }

        .feature-card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            border: 1px solid #e5e7eb;
        }
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .screenshot {
            border-radius: 0.75rem;
            box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
        }
    </style>

    <!-- Header -->
    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-200">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <img src="images/logo.png" alt="Moose Antler Logo" class="h-9 w-9">
                <span class="text-2xl font-bold text-gray-800">Moose Antler<sup class="text-sm text-gray-500">&copy;</sup></span>
            </div>
            <nav class="hidden md:flex items-center space-x-8">
                <a href="#features" class="text-gray-600 hover:text-moose-purple transition">Features</a>
                <a href="#ai-copilot" class="text-gray-600 hover:text-moose-purple transition">AI Co-Pilot</a>
                <a href="#use-cases" class="text-gray-600 hover:text-moose-purple transition">Use Cases</a>
                <a href="#changelog" class="text-gray-600 hover:text-moose-purple transition">Changelog</a>
                <a href="#contact" class="text-gray-600 hover:text-moose-purple transition">Contact</a>
                <a href="https://apps.microsoft.com/detail/9PBMJG25SCJ6" target="_blank" class="bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg transition">Download</a>
            </nav>
			<div class="md:hidden">
				<button id="mobile-menu-button" class="text-gray-800 hover:text-moose-purple focus:outline-none">
					<svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
					</svg>
				</button>
			</div>
        </div>
    </header>
	<!-- Mobile Menu -->
	<div id="mobile-menu" class="hidden md:hidden bg-white border-b border-gray-200">
		<a href="#features" class="block py-2 px-4 text-sm text-gray-700 hover:bg-gray-50">Features</a>
		<a href="#ai-copilot" class="block py-2 px-4 text-sm text-gray-700 hover:bg-gray-50">AI Co-Pilot</a>
		<a href="#use-cases" class="block py-2 px-4 text-sm text-gray-700 hover:bg-gray-50">Use Cases</a>
		<a href="#changelog" class="block py-2 px-4 text-sm text-gray-700 hover:bg-gray-50">Changelog</a>
		<a href="#contact" class="block py-2 px-4 text-sm text-gray-700 hover:bg-gray-50">Contact</a>
		<a href="https://github.com/vplsh7/moose_antler_releases/releases" target="_blank" class="block py-2 px-4 text-sm text-gray-700 hover:bg-gray-50">Download</a>
	</div>

    <!-- Hero Section -->
    <main class="container mx-auto px-6 py-16 md:py-24 text-center">
        <h1 class="text-4xl md:text-6xl font-extrabold text-gray-900 leading-tight">
            Your Ideas, <span class="text-moose-purple">Amplified.</span>
        </h1>
        <p class="mt-6 text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">
            A modern mind-mapping tool with a smart AI co-pilot. Moose Antler helps you organize thoughts, break creative blocks, and turn good ideas into great ones.
        </p>
        <div class="mt-10 flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4">
			<a href="https://github.com/vplsh7/moose_antler_releases/releases" target="_blank" class="w-full sm:w-auto bg-moose-purple hover:bg-moose-purple-dark text-white font-bold py-3 px-8 rounded-lg text-lg transition shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center space-x-2">
				<img src="images/github-mark-white.png" class="h-6 w-6" alt="GitHub Logo">
				<span>Download from GitHub</span>
			</a>
            <a href="https://apps.microsoft.com/detail/9PBMJG25SCJ6" target="_blank" class="w-full sm:w-auto bg-white hover:bg-gray-50 text-gray-800 font-bold py-3 px-8 rounded-lg text-lg transition border border-gray-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center space-x-2">
                <img src="https://upload.wikimedia.org/wikipedia/commons/a/a7/Microsoft_Store.svg" class="h-5 w-5" alt="Microsoft Store Logo">
				<span>Get on Microsoft Store</span>
            </a>
        </div>
        <div class="mt-16 md:mt-24">
            <img src="images/main.png" alt="Moose Antler main window showcasing a mind map" class="screenshot mx-auto" onerror="this.onerror=null;this.src='https://placehold.co/1200x800/e0e7ff/4338ca?text=Moose+Antler+App';">
        </div>
    </main>

    <!-- Features Section -->
    <section id="features" class="py-20 bg-white">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold">Powerful Mind-Mapping, Made Simple</h2>
                <p class="mt-4 text-lg text-gray-600">Everything you need to get your ideas down, fast.</p>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="feature-card">
                    <h3 class="text-xl font-semibold mb-2">Intuitive Editing</h3>
                    <p class="text-gray-600">Quickly add, edit, and delete nodes with a clean, minimal interface. Long-press or click for actions.</p>
                </div>
                <div class="feature-card">
                    <h3 class="text-xl font-semibold mb-2">Collapsible Branches</h3>
                    <p class="text-gray-600">Effortlessly expand and collapse entire branches to focus on what matters and manage complexity.</p>
                </div>
                <div class="feature-card">
                    <h3 class="text-xl font-semibold mb-2">Flexible Layouts</h3>
                    <p class="text-gray-600">Instantly switch between vertical and horizontal tree layouts to visualize your map in the way that works best for you.</p>
                </div>
                <div class="feature-card">
                    <h3 class="text-xl font-semibold mb-2">Infinite Canvas</h3>
                    <p class="text-gray-600">A fluid, pannable, and zoomable canvas that grows with your ideas. Never run out of space.</p>
                </div>
                <div class="feature-card">
                    <h3 class="text-xl font-semibold mb-2">Private & Portable</h3>
                    <p class="text-gray-600">Files are saved locally. Use any cloud-synced folder (Google Drive, Dropbox) to work across devices.</p>
                </div>
                 <div class="feature-card">
                    <h3 class="text-xl font-semibold mb-2">Export Options</h3>
                    <p class="text-gray-600">Easily export your mind maps to a structured Markdown file, ready for any note-taking app or text editor. Or to a mind-mapping tool like Freemind.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Co-Pilot Section -->
    <section id="ai-copilot" class="py-20 bg-gray-50">
        <div class="container mx-auto px-6">
            <div class="max-w-5xl mx-auto grid md:grid-cols-2 gap-12 items-center">
                <div class="text-center md:text-left">
                    <h2 class="text-3xl md:text-4xl font-bold">Your AI Co-Pilot, Not an Autopilot</h2>
                    <p class="mt-4 text-lg text-gray-600">We believe AI should be a scalpel, not a sledgehammer. Moose Antler gives you just enough AI to fuel your brainstorming, not replace it. Click the ✨ icon on any idea to access surgical actions.</p>
                    <ul class="mt-6 space-y-3 text-gray-700">
                        <li class="flex items-start"><span class="text-moose-purple mr-3">✓</span> <strong>Expand Idea:</strong> Generate related concepts to explore new avenues.</li>
                        <li class="flex items-start"><span class="text-moose-purple mr-3">✓</span> <strong>Suggest Analogies:</strong> Discover new ways to think about your topic.</li>
                        <li class="flex items-start"><span class="text-moose-purple mr-3">✓</span> <strong>Play Devil's Advocate:</strong> Uncover weaknesses and strengthen your arguments.</li>
                        <li class="flex items-start"><span class="text-moose-purple mr-3">✓</span> <strong>Summarize Branch:</strong> Condense a complex branch into a clear summary.</li>
                    </ul>
                </div>
                <div class="flex justify-center">
                    <img src="images/ai_actions.png" alt="AI Actions menu in Moose Antler" class="screenshot" onerror="this.onerror=null;this.src='https://placehold.co/800x600/e2e8f0/64748b?text=AI+Actions';">
                </div>
            </div>
        </div>
    </section>

    <!-- More Features with Images Section -->
    <section class="py-20 bg-white">
        <div class="container mx-auto px-6">
             <div class="grid lg:grid-cols-2 gap-16 items-center">
                <div>
                    <h3 class="text-2xl font-bold mb-4">Rich, Visual Mapping</h3>
                    <p class="text-gray-600 mb-6">Go beyond text. Add images to your nodes to create vibrant, visual mood boards, story maps, and project plans.</p>
                    <img src="images/node_actions.png" alt="Node actions menu showing add image option" class="screenshot" onerror="this.onerror=null;this.src='https://placehold.co/800x600/e2e8f0/64748b?text=Node+Actions';">
                </div>
                <div>
                    <h3 class="text-2xl font-bold mb-4">Focus with Flexible Layouts</h3>
                    <p class="text-gray-600 mb-6">Switch between horizontal and vertical layouts with a single click to find the perspective that best suits your project.</p>
                    <img src="images/vertical.png" alt="Moose Antler showing vertical layout" class="screenshot" onerror="this.onerror=null;this.src='https://placehold.co/800x600/e2e8f0/64748b?text=Vertical+Layout';">
                </div>
                <div class="lg:col-span-2 text-center mt-12">
                    <h3 class="text-2xl font-bold mb-4">Customizable & Persistent</h3>
                    <p class="text-gray-600 mb-6 max-w-3xl mx-auto">With light/dark modes and persistent settings, the app remembers your workflow, including your last-used file and zoom level.</p>
                    <img src="images/dark_mode.png" alt="Moose Antler in Dark Mode" class="screenshot" onerror="this.onerror=null;this.src='https://placehold.co/1200x800/1f2937/9ca3af?text=Dark+Mode';">
                </div>
            </div>
        </div>
    </section>


    <!-- Use Cases Section -->
    <section id="use-cases" class="py-20 bg-app-dark text-white">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-3xl md:text-4xl font-bold">A Versatile Tool for Any Project</h2>
            <p class="mt-4 text-lg text-gray-300 max-w-2xl mx-auto">Moose Antler is for anyone who starts a project with an idea. Here's how people are using it.</p>
            <div class="mt-12 grid md:grid-cols-3 gap-8 text-left">
                <div class="bg-gray-800/50 p-8 rounded-xl">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-10 h-10 text-moose-purple mb-4"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c0 1.7 3 3 6 3s6-1.3 6-3v-5"/></svg>
                    <h3 class="text-xl font-semibold mb-3">For Students & Researchers</h3>
                    <p class="text-gray-400">Plan essays and research papers with unparalleled clarity. Use "Play Devil's Advocate" to find counterarguments and "Summarize Branch" to condense research.</p>
                </div>
                <div class="bg-gray-800/50 p-8 rounded-xl">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-10 h-10 text-moose-purple mb-4"><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"/><path d="M9 18h6"/><path d="M10 22h4"/></svg>
                    <h3 class="text-xl font-semibold mb-3">For Creative Professionals</h3>
                    <p class="text-gray-400">Outline a novel, design a user-flow, or build a world. Attach character sketches or mockups to nodes and use "Suggest Analogies" to break creative blocks.</p>
                </div>
                <div class="bg-gray-800/50 p-8 rounded-xl">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-10 h-10 text-moose-purple mb-4"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>
                    <h3 class="text-xl font-semibold mb-3">For Productivity Enthusiasts</h3>
                    <p class="text-gray-400">Map out a new business venture or plan a software project. Use "Expand Idea" to flesh out project phases and then export the entire plan to Markdown to share.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Changelog Section -->
	<section id="changelog" class="py-20 bg-white">
	  <div class="container mx-auto px-6">
	    <h2 class="text-3xl font-bold text-center mb-12">What's New</h2>
	    <p class="mt-4 text-lg text-gray-600 text-center">
	      We're always working to make Moose Antler better.
	    </p>
	    <div class="max-w-3xl mx-auto space-y-8">
	      <AntlerChangelog140 /> <!-- Only latest -->
	    </div>
	    <div class="text-center mt-8">
	      <a
	        href="/moose-antler-changelog"
	        class="inline-block bg-moose-purple hover:bg-moose-purple-dark text-white font-semibold py-2 px-6 rounded-lg transition"
	      >
	        View Full Changelog →
	      </a>
	    </div>
	  </div>
	</section>
    
    <!-- Contact Section -->
    <section id="contact" class="py-20 bg-gray-50">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold">Get in Touch</h2>
                <p class="mt-4 text-lg text-gray-600">Have a question, a feature request, or a bug to report? We'd love to hear from you.</p>
            </div>
            <div class="max-w-4xl mx-auto grid md:grid-cols-2 gap-8">
                <div class="feature-card text-center">
                    <h3 class="text-xl font-semibold mb-2">General Inquiries</h3>
                    <p class="text-gray-600 mb-4">For general questions, feedback, or suggestions, please send us an email.</p>
                    <a href="mailto:support@mooseapps.io" class="text-moose-purple font-semibold hover:underline">support@mooseapps.io</a>
                </div>
                <div class="feature-card text-center">
                    <h3 class="text-xl font-semibold mb-2">Bug Reports & Issues</h3>
                    <p class="text-gray-600 mb-4">The best way to report a bug is by opening an issue on our GitHub releases page.</p>
                    <a href="https://github.com/vplsh7/moose_antler_releases/issues" target="_blank" class="text-moose-purple font-semibold hover:underline">Open a GitHub Issue</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-100 border-t">
        <div class="container mx-auto px-6 py-8 text-center text-gray-600">
             <div class="flex items-center justify-center space-x-3 mb-4">
                <img src="images/logo.png" alt="Moose Antler Logo" class="h-7 w-7">
                <span class="text-xl font-bold text-gray-700">Moose Antler<sup class="text-sm text-gray-500">&copy;</sup></span>
            </div>
            <p>Copyright © 2025 <a href="/index" target="_blank" class="text-moose-purple hover:underline">Moose Apps</a> & V Shah. All Rights Reserved.</p>
            <p class="text-sm mt-2">Built with ❤️ for great ideas.</p>
        </div>
    </footer>
  <!-- Paste your moose-antler.html content here -->
</BaseLayout>















